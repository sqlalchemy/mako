# nav.myt - Provides page navigation elements that are derived from toc.TOCElement structures, including
# individual hyperlinks as well as navigational toolbars and table-of-content listings.

<%namespace name="tocns" file="toc.html"/>

<%def name="itemlink(item, anchor=True)" filter="trim">
    <a href="${ item.get_link(extension=extension, anchor=anchor) }">${ item.description }</a>
</%def>

<%def name="toclink(toc, path, description=None)" filter="trim">
    <%
        item = toc.get_by_path(path)
        if description is None:
            if item:
                description = item.description
            else:
                description = path
    %>
% if item:
    <a href="${ item.get_link(extension=extension) }">${ description }</a>
% else:
    <b>${ description }</b>
% endif
</%def>


<%def name="link" filter="trim(href, text, class_)">
    <a href="${ href }" ${ class_ and (('class=\"%s\"' % class_) or '')}>${ text }</a>
</%def>

<%def name="topnav(item)">
<div class="topnav">

<div class="topnavsectionlink">

<a href="index.${ extension }">Table of Contents</a>

<div class="prevnext">
% if item.previous is not None:
Previous: ${itemlink(item=item.previous, anchor=False)}
% endif

% if item.previous is not None and item.next is not None:
&nbsp; | &nbsp;
% endif

% if item.next is not None:

Next: ${itemlink(item=item.next, anchor=False)}
% endif

</div>
</div>

<div class="topnavmain">
	<div class="topnavheader">${ item.description }</div>
	<div class="topnavitems">
	${tocns.printtoc(root=item, current=None, full=True, anchor_toplevel=True)}
	</div>
</div>

</div>
</%def>

<%def name="pagenav(item)">
<div class="sectionnavblock">
<div class="sectionnav">

%       if item.previous is not None:
        Previous: ${itemlink(item=item.previous)}
%       endif

%       if item.next is not None:
%               if item.previous is not None:
                |
%               endif

        Next: ${itemlink(item=item.next)}
%       endif

</div>
</div>
</%def>
